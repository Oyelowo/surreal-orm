apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations: {}
  labels:
    app.kubernetes.io/managed-by: pulumi
  name: topics.fluvio.infinyon.com
spec:
  conversion:
    strategy: None
  group: fluvio.infinyon.com
  names:
    kind: Topic
    plural: topics
    singular: topic
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: Partition count
      jsonPath: .spec.partitions
      name: Partitions
      type: integer
    - description: Replication Count
      jsonPath: .spec.replicationFactor
      name: Replications
      type: integer
    - description: Topic Status
      jsonPath: .status.resolution
      name: Status
      type: string
    deprecated: true
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              customReplicaAssignment:
                items:
                  properties:
                    partition:
                      properties:
                        id:
                          minimum: 0
                          type: integer
                        replicas:
                          items:
                            minimum: 0
                            type: integer
                          type: array
                      required:
                      - id
                      - replicas
                      type: object
                  required:
                  - partition
                  type: object
                type: array
              ignoreRackAssignment:
                type: boolean
              partitions:
                maximum: 5000
                minimum: 1
                type: integer
              replicationFactor:
                maximum: 5000
                minimum: 1
                type: integer
              type:
                type: string
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        required:
        - spec
        type: object
    served: false
    storage: false
    subresources:
      status: {}
  - additionalPrinterColumns:
    - description: Partition count
      jsonPath: .spec.replica.managed.partitions
      name: Partitions
      type: integer
    - description: Replication Count
      jsonPath: .spec.replica.managed.replicationFactor
      name: Replications
      type: integer
    - description: Retention hours
      jsonPath: .spec.cleanupPolicy.segment.timeInSeconds
      name: Retention(secs)
      type: integer
    - description: Topic Status
      jsonPath: .status.resolution
      name: Status
      type: string
    - description: Segment Size
      jsonPath: .spec.storage.segmentSize
      name: Segment Size
      type: integer
    - description: Max Partition Size
      jsonPath: .spec.storage.maxPartitionSize
      name: Max Partition Size
      type: integer
    name: v2
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              cleanupPolicy:
                properties:
                  segment:
                    properties:
                      timeInSeconds:
                        minimum: 10
                        type: integer
                    type: object
                type: object
              compressionType:
                enum:
                - Any
                - Gzip
                - Snappy
                - Lz4
                type: string
              replicas:
                oneOf:
                - required:
                  - computed
                - required:
                  - assigned
                properties:
                  assigned:
                    items:
                      properties:
                        partition:
                          properties:
                            id:
                              minimum: 0
                              type: integer
                            replicas:
                              items:
                                minimum: 0
                                type: integer
                              type: array
                          required:
                          - id
                          - replicas
                          type: object
                      required:
                      - partition
                      type: object
                    type: array
                  computed:
                    properties:
                      ignoreRackAssignment:
                        type: boolean
                      partitions:
                        maximum: 5000
                        minimum: 1
                        type: integer
                      replicationFactor:
                        maximum: 5000
                        minimum: 1
                        type: integer
                    type: object
                type: object
              storage:
                properties:
                  maxPartitionSize:
                    minimum: 2048
                    type: integer
                  segmentSize:
                    minimum: 1024
                    type: integer
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
