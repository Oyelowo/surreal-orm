apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations: {}
  labels:
    app.kubernetes.io/managed-by: pulumi
  name: smartmodules.fluvio.infinyon.com
spec:
  group: fluvio.infinyon.com
  names:
    kind: SmartModule
    plural: smartmodules
    singular: smartmodule
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.input_kind
      name: Input Kind
      type: string
    - jsonPath: .spec.output_kind
      name: Output Kind
      type: string
    name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              init_params:
                items:
                  properties:
                    input:
                      enum:
                      - string
                      type: string
                    name:
                      type: string
                  required:
                  - name
                  - input
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - name
                x-kubernetes-list-type: map
              input_kind:
                enum:
                - Stream
                - External
                type: string
              output_kind:
                enum:
                - Stream
                - External
                - Table
                type: string
              package:
                properties:
                  group:
                    description: The group of the package.
                    type: string
                  name:
                    description: The name of the package.
                    type: string
                  version:
                    description: The version of the package.
                    type: string
                type: object
              parameters:
                items:
                  properties:
                    name:
                      type: string
                  type: object
                type: array
              source_code:
                properties:
                  language:
                    type: string
                  payload:
                    type: string
                required:
                - language
                - payload
                type: object
              wasm:
                properties:
                  format:
                    enum:
                    - BINARY
                    - TEXT
                    type: string
                  payload:
                    type: string
                required:
                - format
                - payload
                type: object
            required:
            - input_kind
            - output_kind
            - wasm
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        required:
        - spec
        type: object
    served: true
    storage: false
    subresources:
      status: {}
  - additionalPrinterColumns:
    - jsonPath: .spec.meta.package.version
      name: Version
      type: string
    - jsonPath: .spec.meta.package.group
      name: Group
      type: string
    name: v2
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              meta:
                properties:
                  package:
                    properties:
                      apiVersion:
                        description: The version of the package.
                        type: string
                      description:
                        description: The description of the package.
                        type: string
                      group:
                        description: The group of the package.
                        type: string
                      license:
                        description: The license of the package.
                        type: string
                      name:
                        description: The name of the package.
                        type: string
                      repository:
                        description: The repository of the package.
                        type: string
                      version:
                        description: The version of the package.
                        type: string
                    required:
                    - name
                    - group
                    - version
                    - apiVersion
                    type: object
                  params:
                    items:
                      properties:
                        description:
                          type: string
                        name:
                          type: string
                        optional:
                          type: boolean
                      required:
                      - name
                      type: object
                    type: array
                    x-kubernetes-list-map-keys:
                    - name
                    x-kubernetes-list-type: map
                required:
                - package
                type: object
              wasm:
                properties:
                  format:
                    enum:
                    - BINARY
                    - TEXT
                    type: string
                  payload:
                    type: string
                required:
                - format
                - payload
                type: object
            required:
            - wasm
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
