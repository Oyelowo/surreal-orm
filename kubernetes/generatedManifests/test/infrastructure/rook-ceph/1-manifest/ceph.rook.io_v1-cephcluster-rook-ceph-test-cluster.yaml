apiVersion: ceph.rook.io/v1
kind: CephCluster
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"ceph.rook.io/v1","kind":"CephCluster","metadata":{"labels":{"app.kubernetes.io/managed-by":"pulumi"},"name":"test-cluster","namespace":"rook-ceph"},"spec":{"cephVersion":{"allowUnsupported":true,"image":"quay.io/ceph/ceph:v17"},"crashCollector":{"disable":true},"dashboard":{"enabled":true},"dataDirHostPath":"/var/lib/rook","disruptionManagement":{"managePodBudgets":true},"healthCheck":{"daemonHealth":{"mon":{"interval":"45s","timeout":"600s"}}},"mgr":{"allowMultiplePerNode":true,"count":1},"mon":{"allowMultiplePerNode":true,"count":1},"priorityClassNames":{"all":"system-node-critical","mgr":"system-cluster-critical"},"storage":{"useAllDevices":true,"useAllNodes":true}}}
  labels:
    app.kubernetes.io/managed-by: pulumi
  name: test-cluster
  namespace: rook-ceph
spec:
  cephVersion:
    allowUnsupported: true
    image: quay.io/ceph/ceph:v17
  crashCollector:
    disable: true
  dashboard:
    enabled: true
  dataDirHostPath: /var/lib/rook
  disruptionManagement:
    managePodBudgets: true
  healthCheck:
    daemonHealth:
      mon:
        interval: 45s
        timeout: 600s
  mgr:
    allowMultiplePerNode: true
    count: 1
  mon:
    allowMultiplePerNode: true
    count: 1
  priorityClassNames:
    all: system-node-critical
    mgr: system-cluster-critical
  storage:
    useAllDevices: true
    useAllNodes: true
