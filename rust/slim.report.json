{
  "version": "1.0",
  "engine": "darwin|Transformer|1.37.3|latest|latest",
  "containerized": false,
  "host_distro": {
    "name": "",
    "version": "",
    "display_name": "other"
  },
  "type": "build",
  "state": "done",
  "target_reference": "oyelowo/graphql-mongo-prod2",
  "system": {
    "type": "Linux",
    "release": "5.10.76-linuxkit",
    "distro": {
      "name": "Debian GNU/Linux",
      "version": "11",
      "display_name": "Debian GNU/Linux 11 (bullseye)"
    }
  },
  "source_image": {
    "identity": {
      "id": "sha256:fb30558e1ed3debe1b3460bd054ea1193e69f8c0332ec7cd1a2a6d264124c49b",
      "tags": ["latest"],
      "names": ["oyelowo/graphql-mongo-prod2:latest"]
    },
    "size": 1282386512,
    "size_human": "1.3 GB",
    "create_time": "2021-12-29T15:14:30Z",
    "docker_version": "",
    "architecture": "amd64",
    "exposed_ports": ["8000/tcp"],
    "os": "linux",
    "env_vars": [
      "PATH=/usr/local/cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
      "RUSTUP_HOME=/usr/local/rustup",
      "CARGO_HOME=/usr/local/cargo",
      "RUST_VERSION=1.57.0",
      "ENVIRONMENT=local",
      "HOST=0.0.0.0",
      "PORT=8000"
    ],
    "container_entry": {
      "exe_path": ""
    }
  },
  "minified_image_size": 15888880,
  "minified_image_size_human": "16 MB",
  "minified_image": "oyelowo/graphql-mongo-prod2.slim",
  "minified_image_has_data": true,
  "minified_by": 80.70968576765637,
  "artifact_location": "/tmp/docker-slim-state/.docker-slim-state/images/fb30558e1ed3debe1b3460bd054ea1193e69f8c0332ec7cd1a2a6d264124c49b/artifacts",
  "container_report_name": "creport.json",
  "seccomp_profile_name": "oyelowo-graphql-mongo-prod2-seccomp.json",
  "apparmor_profile_name": "oyelowo-graphql-mongo-prod2-apparmor-profile",
  "image_stack": [
    {
      "is_top_image": true,
      "id": "sha256:fb30558e1ed3debe1b3460bd054ea1193e69f8c0332ec7cd1a2a6d264124c49b",
      "full_name": "oyelowo/graphql-mongo-prod2:latest",
      "repo_name": "oyelowo/graphql-mongo-prod2",
      "version_tag": "latest",
      "raw_tags": ["oyelowo/graphql-mongo-prod2:latest"],
      "create_time": "2021-12-29T15:14:30Z",
      "new_size": 1282386512,
      "new_size_human": "1.3 GB",
      "instructions": [
        {
          "type": "ADD",
          "time": "2021-12-21T01:22:32Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 123865369,
          "size_human": "124 MB",
          "params": "file:c03517c5ddbed4053165bfdf984b27a006fb5f533ca80b5798232d96df221440 in /",
          "command_snippet": "ADD file:c03517c5ddbed4053165bfdf984b27a006f...",
          "command_all": "ADD file:c03517c5ddbed4053165bfdf984b27a006fb5f533ca80b5798232d96df221440 /",
          "target": "/",
          "source_type": "file"
        },
        {
          "type": "CMD",
          "time": "2021-12-21T01:22:32Z",
          "is_nop": true,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "[\"bash\"]\n",
          "command_snippet": "CMD [\"bash\"]\n",
          "command_all": "CMD [\"bash\"]\n"
        },
        {
          "type": "RUN",
          "time": "2021-12-21T01:51:53Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 10684638,
          "size_human": "11 MB",
          "command_snippet": "RUN set -eux; \tapt-get update; \tapt-get inst...",
          "command_all": "RUN set -eux; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tca-certificates \t\tcurl \t\tnetbase \t\twget \t; \trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "set -eux",
            "apt-get update",
            "apt-get install -y --no-install-recommends ca-certificates curl netbase wget",
            "rm -rf /var/lib/apt/lists/*"
          ]
        },
        {
          "type": "RUN",
          "time": "2021-12-21T01:51:59Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 18947758,
          "size_human": "19 MB",
          "command_snippet": "RUN set -ex; \tif ! command -v gpg > /dev/nul...",
          "command_all": "RUN set -ex; \tif ! command -v gpg > /dev/null; then \t\tapt-get update; \t\tapt-get install -y --no-install-recommends \t\t\tgnupg \t\t\tdirmngr \t\t; \t\trm -rf /var/lib/apt/lists/*; \tfi",
          "system_commands": [
            "set -ex",
            "if ! command -v gpg > /dev/null",
            "then apt-get update",
            "apt-get install -y --no-install-recommends gnupg dirmngr",
            "rm -rf /var/lib/apt/lists/*",
            "fi"
          ]
        },
        {
          "type": "RUN",
          "time": "2021-12-21T01:52:16Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 151937597,
          "size_human": "152 MB",
          "command_snippet": "RUN apt-get update && \\\n\tapt-get install -y ...",
          "command_all": "RUN apt-get update && \\\n\tapt-get install -y --no-install-recommends \t\tgit \t\tmercurial \t\topenssh-client \t\tsubversion \t\t\t\tprocps && \\\n\trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "apt-get update",
            "apt-get install -y --no-install-recommends git mercurial openssh-client subversion procps",
            "rm -rf /var/lib/apt/lists/*"
          ]
        },
        {
          "type": "RUN",
          "time": "2021-12-21T01:53:06Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 528383526,
          "size_human": "528 MB",
          "command_snippet": "RUN set -ex; \tapt-get update; \tapt-get insta...",
          "command_all": "RUN set -ex; \tapt-get update; \tapt-get install -y --no-install-recommends \t\tautoconf \t\tautomake \t\tbzip2 \t\tdpkg-dev \t\tfile \t\tg++ \t\tgcc \t\timagemagick \t\tlibbz2-dev \t\tlibc6-dev \t\tlibcurl4-openssl-dev \t\tlibdb-dev \t\tlibevent-dev \t\tlibffi-dev \t\tlibgdbm-dev \t\tlibglib2.0-dev \t\tlibgmp-dev \t\tlibjpeg-dev \t\tlibkrb5-dev \t\tliblzma-dev \t\tlibmagickcore-dev \t\tlibmagickwand-dev \t\tlibmaxminddb-dev \t\tlibncurses5-dev \t\tlibncursesw5-dev \t\tlibpng-dev \t\tlibpq-dev \t\tlibreadline-dev \t\tlibsqlite3-dev \t\tlibssl-dev \t\tlibtool \t\tlibwebp-dev \t\tlibxml2-dev \t\tlibxslt-dev \t\tlibyaml-dev \t\tmake \t\tpatch \t\tunzip \t\txz-utils \t\tzlib1g-dev \t\t\t\t$( \t\t\tif apt-cache show 'default-libmysqlclient-dev' 2>/dev/null | grep -q '^Version:'; then \t\t\t\techo 'default-libmysqlclient-dev'; \t\t\telse \t\t\t\techo 'libmysqlclient-dev'; \t\t\tfi \t\t) \t; \trm -rf /var/lib/apt/lists/*",
          "system_commands": [
            "set -ex",
            "apt-get update",
            "apt-get install -y --no-install-recommends autoconf automake bzip2 dpkg-dev file g++ gcc imagemagick libbz2-dev libc6-dev libcurl4-openssl-dev libdb-dev libevent-dev libffi-dev libgdbm-dev libglib2.0-dev libgmp-dev libjpeg-dev libkrb5-dev liblzma-dev libmagickcore-dev libmagickwand-dev libmaxminddb-dev libncurses5-dev libncursesw5-dev libpng-dev libpq-dev libreadline-dev libsqlite3-dev libssl-dev libtool libwebp-dev libxml2-dev libxslt-dev libyaml-dev make patch unzip xz-utils zlib1g-dev $( if apt-cache show 'default-libmysqlclient-dev' 2>/dev/null | grep -q '^Version:'",
            "then echo 'default-libmysqlclient-dev'",
            "else echo 'libmysqlclient-dev'",
            "fi )",
            "rm -rf /var/lib/apt/lists/*"
          ]
        },
        {
          "type": "ENV",
          "time": "2021-12-21T12:50:06Z",
          "is_nop": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "params": "RUSTUP_HOME=/usr/local/rustup CARGO_HOME=/usr/local/cargo PATH=/usr/local/cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin RUST_VERSION=1.57.0",
          "command_snippet": "ENV RUSTUP_HOME=/usr/local/rustup CARGO_HOME...",
          "command_all": "ENV RUSTUP_HOME=/usr/local/rustup CARGO_HOME=/usr/local/cargo PATH=/usr/local/cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin RUST_VERSION=1.57.0"
        },
        {
          "type": "RUN",
          "time": "2021-12-21T12:50:19Z",
          "is_nop": false,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 436317544,
          "size_human": "436 MB",
          "command_snippet": "RUN set -eux;     dpkgArch=\"$(dpkg --print-a...",
          "command_all": "RUN set -eux;     dpkgArch=\"$(dpkg --print-architecture)\";     case \"${dpkgArch##*-}\" in         amd64) rustArch='x86_64-unknown-linux-gnu'; rustupSha256='3dc5ef50861ee18657f9db2eeb7392f9c2a6c95c90ab41e45ab4ca71476b4338' ;;         armhf) rustArch='armv7-unknown-linux-gnueabihf'; rustupSha256='67777ac3bc17277102f2ed73fd5f14c51f4ca5963adadf7f174adf4ebc38747b' ;;         arm64) rustArch='aarch64-unknown-linux-gnu'; rustupSha256='32a1532f7cef072a667bac53f1a5542c99666c4071af0c9549795bbdb2069ec1' ;;         i386) rustArch='i686-unknown-linux-gnu'; rustupSha256='e50d1deb99048bc5782a0200aa33e4eea70747d49dffdc9d06812fd22a372515' ;;         *) echo >&2 \"unsupported architecture: ${dpkgArch}\"; exit 1 ;;     esac;     url=\"https://static.rust-lang.org/rustup/archive/1.24.3/${rustArch}/rustup-init\";     wget \"$url\";     echo \"${rustupSha256} *rustup-init\" | sha256sum -c -;     chmod +x rustup-init;     ./rustup-init -y --no-modify-path --profile minimal --default-toolchain $RUST_VERSION --default-host ${rustArch};     rm rustup-init;     chmod -R a+w $RUSTUP_HOME $CARGO_HOME;     rustup --version;     cargo --version;     rustc --version;",
          "system_commands": [
            "set -eux",
            "dpkgArch=\"$(dpkg --print-architecture)\"",
            "case \"${dpkgArch##*-}\" in         amd64) rustArch='x86_64-unknown-linux-gnu'",
            "rustupSha256='3dc5ef50861ee18657f9db2eeb7392f9c2a6c95c90ab41e45ab4ca71476b4338'",
            "",
            "armhf) rustArch='armv7-unknown-linux-gnueabihf'",
            "rustupSha256='67777ac3bc17277102f2ed73fd5f14c51f4ca5963adadf7f174adf4ebc38747b'",
            "",
            "arm64) rustArch='aarch64-unknown-linux-gnu'",
            "rustupSha256='32a1532f7cef072a667bac53f1a5542c99666c4071af0c9549795bbdb2069ec1'",
            "",
            "i386) rustArch='i686-unknown-linux-gnu'",
            "rustupSha256='e50d1deb99048bc5782a0200aa33e4eea70747d49dffdc9d06812fd22a372515'",
            "",
            "*) echo >&2 \"unsupported architecture: ${dpkgArch}\"",
            "exit 1",
            "",
            "esac",
            "url=\"https://static.rust-lang.org/rustup/archive/1.24.3/${rustArch}/rustup-init\"",
            "wget \"$url\"",
            "echo \"${rustupSha256} *rustup-init\" | sha256sum -c -",
            "chmod +x rustup-init",
            "./rustup-init -y --no-modify-path --profile minimal --default-toolchain $RUST_VERSION --default-host ${rustArch}",
            "rm rustup-init",
            "chmod -R a+w $RUSTUP_HOME $CARGO_HOME",
            "rustup --version",
            "cargo --version",
            "rustc --version",
            ""
          ]
        },
        {
          "type": "RUN",
          "time": "2021-12-29T14:01:46Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN [\"WORKDIR\",\"/app\"]",
          "command_all": "RUN [\"WORKDIR\",\"/app\"]",
          "system_commands": ["[\"WORKDIR\",\"/app\"]"],
          "comment": "buildkit.dockerfile.v0"
        },
        {
          "type": "RUN",
          "time": "2021-12-29T15:14:30Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN [\"EXPOSE\",\"map[8000/tcp:{}]\"]",
          "command_all": "RUN [\"EXPOSE\",\"map[8000/tcp:{}]\"]",
          "system_commands": ["[\"EXPOSE\",\"map[8000/tcp:{}]\"]"],
          "comment": "buildkit.dockerfile.v0"
        },
        {
          "type": "RUN",
          "time": "2021-12-29T15:14:30Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 12250080,
          "size_human": "12 MB",
          "command_snippet": "RUN [\"COPY\",\"/app/target/release/backend-mai...",
          "command_all": "RUN [\"COPY\",\"/app/target/release/graphql-mongo\",\"/usr/local/bin/graphql-mongo\"]",
          "system_commands": [
            "[\"COPY\",\"/app/target/release/graphql-mongo\",\"/usr/local/bin/graphql-mongo\"]"
          ],
          "comment": "buildkit.dockerfile.v0"
        },
        {
          "type": "RUN",
          "time": "2021-12-29T15:14:30Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN [\"ENV\",\"ENVIRONMENT=local\"]",
          "command_all": "RUN [\"ENV\",\"ENVIRONMENT=local\"]",
          "system_commands": ["[\"ENV\",\"ENVIRONMENT=local\"]"],
          "comment": "buildkit.dockerfile.v0"
        },
        {
          "type": "RUN",
          "time": "2021-12-29T15:14:30Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN [\"ENV\",\"HOST=0.0.0.0\"]",
          "command_all": "RUN [\"ENV\",\"HOST=0.0.0.0\"]",
          "system_commands": ["[\"ENV\",\"HOST=0.0.0.0\"]"],
          "comment": "buildkit.dockerfile.v0"
        },
        {
          "type": "RUN",
          "time": "2021-12-29T15:14:30Z",
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": false,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN [\"ENV\",\"PORT=8000\"]",
          "command_all": "RUN [\"ENV\",\"PORT=8000\"]",
          "system_commands": ["[\"ENV\",\"PORT=8000\"]"],
          "comment": "buildkit.dockerfile.v0"
        },
        {
          "type": "RUN",
          "time": "2021-12-29T15:14:30Z",
          "is_last_instruction": true,
          "is_nop": false,
          "is_exec_form": true,
          "local_image_exists": true,
          "layer_index": 0,
          "size": 0,
          "command_snippet": "RUN [\"ENTRYPOINT\",\"[/usr/local/bin/backend-m...",
          "command_all": "RUN [\"ENTRYPOINT\",\"[/usr/local/bin/graphql-mongo]\"]",
          "system_commands": [
            "[\"ENTRYPOINT\",\"[/usr/local/bin/graphql-mongo]\"]"
          ],
          "comment": "buildkit.dockerfile.v0",
          "raw_tags": ["oyelowo/graphql-mongo-prod2:latest"]
        }
      ]
    }
  ]
}
